<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; fill: #34495e; }
      .entity { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .process { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .datastore { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 11px; fill: #2c3e50; text-anchor: middle; }
      .flow-text { font-family: Arial, sans-serif; font-size: 9px; fill: #7f8c8d; text-anchor: middle; }
      .arrow { fill: none; stroke: #34495e; stroke-width: 1.5; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="700" y="30" class="title">DFD - Sistema de Gerenciamento Escolar (Nível 1)</text>
  <text x="700" y="50" class="subtitle">Detalhamento dos Processos Internos</text>
  
  <!-- Entidades Externas -->
  <!-- Administrador -->
  <rect x="30" y="120" width="100" height="60" class="entity" rx="8"/>
  <text x="80" y="155" class="text">Administrador</text>
  
  <!-- Responsável -->
  <rect x="30" y="300" width="100" height="60" class="entity" rx="8"/>
  <text x="80" y="335" class="text">Responsável</text>
  
  <!-- Professor -->
  <rect x="30" y="480" width="100" height="60" class="entity" rx="8"/>
  <text x="80" y="515" class="text">Professor</text>
  
  <!-- Processos Principais -->
  
  <!-- 1. Gerenciar Alunos -->
  <circle cx="300" cy="180" r="60" class="process"/>
  <text x="300" y="175" class="text">1.0</text>
  <text x="300" y="190" class="text">Gerenciar</text>
  <text x="300" y="205" class="text">Alunos</text>
  
  <!-- 2. Gerenciar Turmas -->
  <circle cx="500" cy="180" r="60" class="process"/>
  <text x="500" y="175" class="text">2.0</text>
  <text x="500" y="190" class="text">Gerenciar</text>
  <text x="500" y="205" class="text">Turmas</text>
  
  <!-- 3. Gerenciar Professores -->
  <circle cx="700" cy="180" r="60" class="process"/>
  <text x="700" y="175" class="text">3.0</text>
  <text x="700" y="190" class="text">Gerenciar</text>
  <text x="700" y="205" class="text">Professores</text>
  
  <!-- 4. Gerenciar Mensalidades -->
  <circle cx="400" cy="360" r="60" class="process"/>
  <text x="400" y="355" class="text">4.0</text>
  <text x="400" y="370" class="text">Gerenciar</text>
  <text x="400" y="385" class="text">Mensalidades</text>
  
  <!-- 5. Gerar Relatórios -->
  <circle cx="600" cy="360" r="60" class="process"/>
  <text x="600" y="355" class="text">5.0</text>
  <text x="600" y="370" class="text">Gerar</text>
  <text x="600" y="385" class="text">Relatórios</text>
  
  <!-- 6. Consultar Informações -->
  <circle cx="300" cy="520" r="60" class="process"/>
  <text x="300" y="515" class="text">6.0</text>
  <text x="300" y="530" class="text">Consultar</text>
  <text x="300" y="545" class="text">Informações</text>
  
  <!-- Armazenamentos de Dados -->
  <!-- D1: Alunos -->
  <rect x="950" y="120" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="135" class="text">D1: Alunos</text>
  <text x="1040" y="150" class="text">(id, nome, turma_id, responsavel_id)</text>
  
  <!-- D2: Responsáveis -->
  <rect x="950" y="180" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="195" class="text">D2: Responsáveis</text>
  <text x="1040" y="210" class="text">(id, nome, telefone, email)</text>
  
  <!-- D3: Turmas -->
  <rect x="950" y="240" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="255" class="text">D3: Turmas</text>
  <text x="1040" y="270" class="text">(id, nome, serie, professor_id)</text>
  
  <!-- D4: Professores -->
  <rect x="950" y="300" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="315" class="text">D4: Professores</text>
  <text x="1040" y="330" class="text">(id, nome, disciplina, telefone)</text>
  
  <!-- D5: Disciplinas -->
  <rect x="950" y="360" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="375" class="text">D5: Disciplinas</text>
  <text x="1040" y="390" class="text">(id, nome, carga_horaria)</text>
  
  <!-- D6: Mensalidades -->
  <rect x="950" y="420" width="180" height="40" class="datastore" rx="5"/>
  <text x="1040" y="435" class="text">D6: Mensalidades</text>
  <text x="1040" y="450" class="text">(id, aluno_id, valor, data_venc, status)</text>
  
  <!-- Fluxos de Dados -->
  
  <!-- Administrador para Processos -->
  <line x1="130" y1="140" x2="240" y2="160" class="arrow"/>
  <text x="180" y="145" class="flow-text">dados aluno</text>
  
  <line x1="130" y1="150" x2="440" y2="170" class="arrow"/>
  <text x="280" y="155" class="flow-text">dados turma</text>
  
  <line x1="130" y1="160" x2="640" y2="170" class="arrow"/>
  <text x="380" y="160" class="flow-text">dados professor</text>
  
  <!-- Responsável para Processos -->
  <line x1="130" y1="320" x2="240" y2="480" class="arrow"/>
  <text x="180" y="400" class="flow-text">consulta dados</text>
  
  <line x1="130" y1="340" x2="340" y2="380" class="arrow"/>
  <text x="230" y="365" class="flow-text">pagamento</text>
  
  <!-- Professor para Processos -->
  <line x1="130" y1="500" x2="240" y2="540" class="arrow"/>
  <text x="180" y="525" class="flow-text">consulta turma</text>
  
  <!-- Processos para Armazenamentos -->
  <!-- Processo 1.0 para D1 e D2 -->
  <line x1="360" y1="160" x2="950" y2="140" class="arrow"/>
  <text x="650" y="145" class="flow-text">dados aluno</text>
  
  <line x1="360" y1="180" x2="950" y2="200" class="arrow"/>
  <text x="650" y="185" class="flow-text">dados responsável</text>
  
  <!-- Processo 2.0 para D3 -->
  <line x1="560" y1="160" x2="950" y2="260" class="arrow"/>
  <text x="750" y="205" class="flow-text">dados turma</text>
  
  <!-- Processo 3.0 para D4 e D5 -->
  <line x1="760" y1="170" x2="950" y2="320" class="arrow"/>
  <text x="850" y="240" class="flow-text">dados professor</text>
  
  <line x1="760" y1="190" x2="950" y2="380" class="arrow"/>
  <text x="850" y="280" class="flow-text">dados disciplina</text>
  
  <!-- Processo 4.0 para D6 -->
  <line x1="460" y1="360" x2="950" y2="440" class="arrow"/>
  <text x="700" y="395" class="flow-text">dados mensalidade</text>
  
  <!-- Armazenamentos para Processos (leitura) -->
  <line x1="950" y1="160" x2="360" y2="200" class="arrow"/>
  <line x1="950" y1="220" x2="360" y2="200" class="arrow"/>
  <line x1="950" y1="280" x2="560" y2="200" class="arrow"/>
  <line x1="950" y1="340" x2="760" y2="200" class="arrow"/>
  <line x1="950" y1="400" x2="760" y2="210" class="arrow"/>
  <line x1="950" y1="460" x2="460" y2="380" class="arrow"/>
  
  <!-- Processo 5.0 lendo de todos os armazenamentos -->
  <line x1="950" y1="180" x2="660" y2="340" class="arrow"/>
  <line x1="950" y1="300" x2="660" y2="350" class="arrow"/>
  <line x1="950" y1="440" x2="660" y2="380" class="arrow"/>
  
  <!-- Processo 6.0 lendo dados -->
  <line x1="950" y1="200" x2="360" y2="500" class="arrow"/>
  <line x1="950" y1="480" x2="360" y2="540" class="arrow"/>
  
  <!-- Retorno de dados para entidades -->
  <line x1="240" y1="500" x2="130" y2="350" class="arrow"/>
  <text x="180" y="425" class="flow-text">info aluno</text>
  
  <line x1="540" y1="340" x2="130" y2="170" class="arrow"/>
  <text x="330" y="250" class="flow-text">relatórios</text>
  
  <line x1="240" y1="560" x2="130" y2="520" class="arrow"/>
  <text x="180" y="545" class="flow-text">lista alunos</text>
  
  <!-- Legenda -->
  <rect x="50" y="650" width="300" height="200" fill="none" stroke="#bdc3c7" stroke-width="1"/>
  <text x="200" y="670" class="subtitle">Legenda</text>
  
  <rect x="70" y="685" width="40" height="20" class="entity" rx="5"/>
  <text x="120" y="698" class="flow-text">Entidade Externa</text>
  
  <circle cx="90" cy="720" r="15" class="process"/>
  <text x="130" y="725" class="flow-text">Processo (Numerado)</text>
  
  <rect x="70" y="740" width="40" height="15" class="datastore" rx="2"/>
  <text x="130" y="750" class="flow-text">Armazenamento de Dados</text>
  
  <line x1="70" y1="770" x2="110" y2="770" class="arrow"/>
  <text x="140" y="775" class="flow-text">Fluxo de Dados</text>
  
  <!-- Descrição dos Processos -->
  <text x="200" y="800" class="subtitle">Processos:</text>
  <text x="70" y="820" class="flow-text">1.0 - Cadastrar, alterar, excluir e consultar alunos</text>
  <text x="70" y="835" class="flow-text">2.0 - Gerenciar turmas e vincular alunos</text>
  <text x="70" y="850" class="flow-text">3.0 - Cadastrar e gerenciar professores e disciplinas</text>
  
  <text x="400" y="800" class="subtitle">Continuação:</text>
  <text x="420" y="820" class="flow-text">4.0 - Controlar mensalidades e pagamentos</text>
  <text x="420" y="835" class="flow-text">5.0 - Gerar relatórios gerenciais</text>
  <text x="420" y="850" class="flow-text">6.0 - Permitir consultas de informações</text>
  
</svg>
